# 环境配置示例
# 复制此文件为 .env 并根据实际情况修改配置

# =============================================================================
# 基础服务配置
# =============================================================================

# 运行环境
NODE_ENV=development

# 服务器配置
PROTOCOL=http
PORT=8080
HOST=0.0.0.0

# API配置
API_PREFIX=/api

# =============================================================================
# 安全和访问控制
# =============================================================================

# GeniSpace SDK 认证配置
# 启用后支持认证头格式：Authorization: GeniSpace <api_key> 或 GeniSpace: <api_key>
# 注意：不支持 Authorization: Bearer 格式，避免与用户算子认证冲突
GENISPACE_AUTH_ENABLED=false
GENISPACE_API_BASE_URL=https://api.genispace.com
GENISPACE_AUTH_TIMEOUT=10000
GENISPACE_AUTH_CACHE_TTL=300

# 说明：
# - 启用认证后，大部分 /api/* 路径需要有效的 GeniSpace API Key
# - 认证格式：Authorization: GeniSpace <your-api-key>
# - 公共路径（无需认证）：/, /health, /api/docs, /api/docs.json, /api/operators, /api/operators/:category/:operator/definition
# - API 文档和算子列表在认证模式下仍可正常访问

# CORS配置 - 开发环境自动允许所有来源，生产环境请设置具体域名
# CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_ORIGIN=*

# 请求限制
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000

# 速率限制
RATE_LIMIT_MAX=100

# 安全配置
SECURITY_CORS=true
SECURITY_RATE_LIMIT=true

# =============================================================================
# 日志配置  
# =============================================================================

# 日志级别 (error, warn, info, debug)
LOG_LEVEL=info

# 控制台日志输出
LOG_CONSOLE=true

# =============================================================================
# 算子配置
# =============================================================================

# 算子目录
OPERATORS_DIR=./operators

# =============================================================================
# PDF生成器配置
# =============================================================================

# 存储配置
STORAGE_PROVIDER=LOCAL

# PDF文件下载服务配置
# 如果设置了PDF_FILE_SERVER_URL，将优先使用该URL作为PDF下载地址
# 否则将使用上面的服务器配置 (PROTOCOL://HOST:PORT) 自动构建下载URL
PDF_FILE_SERVER_URL=http://localhost:8080/api/document/pdf-generator/download

# 阿里云OSS配置（可选）
# ALIYUN_ACCESS_KEY_ID=your_access_key_id
# ALIYUN_ACCESS_KEY_SECRET=your_access_key_secret
# ALIYUN_OSS_BUCKET=your_bucket_name
# ALIYUN_OSS_REGION=oss-cn-hangzhou
# ALIYUN_OSS_CUSTOM_DOMAIN=your_custom_domain.com

# 腾讯云COS配置（可选）
# TENCENT_SECRET_ID=your_secret_id
# TENCENT_SECRET_KEY=your_secret_key
# TENCENT_COS_BUCKET=your_bucket_name
# TENCENT_COS_REGION=ap-beijing
# TENCENT_COS_CUSTOM_DOMAIN=your_custom_domain.com

# Puppeteer配置
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# =============================================================================
# 可选功能配置
# =============================================================================

# 监控配置
MONITORING_ENABLED=false

# 缓存配置（Redis）
CACHE_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379